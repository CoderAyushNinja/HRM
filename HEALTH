import requests
import sys

def check_app_health(url):
    """
    Checks application health by sending a GET request and reviewing HTTP status.
    """
    try:
        response = requests.get(url, timeout=5)
        if response.status_code == 200:
            return f" Application is UP (Status Code: {response.status_code})"
        else:
            return f" Application is DOWN (Status Code: {response.status_code})"
    except requests.exceptions.Timeout:
        return " Application is DOWN (Error: Request Timed Out)"
    except requests.exceptions.ConnectionError:
        return " Application is DOWN (Error: Connection Failed)"
    except Exception as e:
        return f"Application is DOWN (Unexpected Error: {e})"

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python health_check.py <URL>")
        sys.exit(1)

    url = sys.argv[1]
    print(f" Checking health of: {url}")
    result = check_app_health(url)
    print(result)
